"use strict";(globalThis.webpackChunkinvoiceninja_docs=globalThis.webpackChunkinvoiceninja_docs||[]).push([[84523],{19318(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"advanced-topics/qr-codes","title":"QR Codes","description":"We currently offer three options for QR codes in Invoice Ninja: Swiss QR, SEPA ERC and generic Payment link QR codes which will take the end user to the Invoice Ninja Client portal for payment.","source":"@site/docs/advanced-topics/qr-codes.md","sourceDirName":"advanced-topics","slug":"/advanced-topics/qr-codes","permalink":"/docs/advanced-topics/qr-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/invoiceninja/invoiceninja.github.io/tree/v5-rework/docs/advanced-topics/qr-codes.md","tags":[],"version":"current","lastUpdatedAt":1771640441000,"sidebarPosition":4,"frontMatter":{"title":"QR Codes","sidebar_position":4},"sidebar":"userGuide","previous":{"title":"Import and Export","permalink":"/docs/advanced-topics/import-and-export"},"next":{"title":"Templates","permalink":"/docs/advanced-topics/templates"}}');var i=n(74848),o=n(28453);const a={title:"QR Codes",sidebar_position:4},r=void 0,c={},l=[{value:"Swiss QR Codes",id:"swiss-qr-codes",level:2},{value:"How to calculate automatically your QR-IBAN:",id:"how-to-calculate-automatically-your-qr-iban",level:3},{value:"How to calculate manually your QR-IBAN:",id:"how-to-calculate-manually-your-qr-iban",level:3},{value:"Inserting the QR Code into your Invoice",id:"inserting-the-qr-code-into-your-invoice",level:3},{value:"SEPA ERC QR Codes",id:"sepa-erc-qr-codes",level:2},{value:"Generic Payment link QR Codes",id:"generic-payment-link-qr-codes",level:2}];function d(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"We currently offer three options for QR codes in Invoice Ninja: Swiss QR, SEPA ERC and generic Payment link QR codes which will take the end user to the Invoice Ninja Client portal for payment."}),"\n",(0,i.jsx)(t.h2,{id:"swiss-qr-codes",children:"Swiss QR Codes"}),"\n",(0,i.jsx)(t.p,{children:"For Swiss users, you are able to automatically inject Swiss Compatible payment QR codes directly into the invoice design."}),"\n",(0,i.jsx)(t.p,{children:"There are three types of QR-Rechnungen."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"QR-IBAN with QR-Reference"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This is a special IBAN, different from you normal IBAN. Easiest way is to ask your bank for the QR-IBAN, but you can also calculate it yourself.\nThe QR-Reference is a 26 digit number follow by one checksum digit. The checksum has to be modulo 10, recursive. Additionally you can add 140 symbols of text."}),"\n",(0,i.jsx)(t.h3,{id:"how-to-calculate-automatically-your-qr-iban",children:"How to calculate automatically your QR-IBAN:"}),"\n",(0,i.jsxs)(t.p,{children:["Now there is a new tool to calculate it automatically, you will find it here :\n",(0,i.jsx)(t.a,{href:"https://alexin-tech.github.io/Swiss-IBAN-to-QR-IBAN-Converter/",children:"Swiss IBAN to QR-IBAN Converter"})]}),"\n",(0,i.jsxs)(t.p,{children:["In order to find your QR-IID , just :\nGo to the ",(0,i.jsx)(t.a,{href:"https://www.six-group.com/en/products-services/banking-services/interbank-clearing/online-services/inquiry-iid.html",children:"SIX Group IID Inquiry Page"}),"\nEnter your bank name in the ",(0,i.jsx)(t.strong,{children:"Bank/Institution"})," field.\nClick the ",(0,i.jsx)(t.strong,{children:"Search"})," button.\nLook for a ",(0,i.jsx)(t.strong,{children:"QR-IID"})," in the results (values between ",(0,i.jsx)(t.strong,{children:"30000 - 31999"}),").\nCopy the QR-IID and paste it into the input field of the ",(0,i.jsx)(t.a,{href:"https://alexin-tech.github.io/Swiss-IBAN-to-QR-IBAN-Converter/",children:"Swiss IBAN to QR-IBAN Converter"})]}),"\n",(0,i.jsx)(t.h3,{id:"how-to-calculate-manually-your-qr-iban",children:"How to calculate manually your QR-IBAN:"}),"\n",(0,i.jsx)(t.p,{children:"For example, the normal IID of Raiffeisen is 80808."}),"\n",(0,i.jsxs)(t.p,{children:["Because of that, a Raiffeisen IBAN could look like this CH21 ",(0,i.jsx)(t.strong,{children:"8080 8"}),"001 2345 6789 0"]}),"\n",(0,i.jsxs)(t.p,{children:["Lookup the QR-IID of your bank (something between 30000 and 31999) and replace the IID with the QR-IID. The Raiffeisen QR-IID is 30808. If we replace the previous IBAN with this, we get: CH21 ",(0,i.jsx)(t.strong,{children:"3080 8"}),"001 2345 6789 0. This is the QR-IBAN with wrong checksum therefore we have to calculate it."]}),"\n",(0,i.jsxs)(t.p,{children:["We start with the original checksum (CH",(0,i.jsx)(t.strong,{children:"21"})," 3080 8001 2345 6789 0). The QR-IBAN should be one for modulo 97. We have to move the first 4 symbols to the end (3080 8001 2345 6789 0 CH21). We replace the checksum 21 with two XX, because we don't know this yet (38080 8001 2345 6789 0 CHXX). After that we replace CH with digits. It is alphabetical and starts with 10. So A=10, B=11 and C=13. Because of that, CH is 1217. This gives us 3080 8001 2345 6789 0 1217XX. We now have to find two numbers that give us the modulo 97 = 1."]}),"\n",(0,i.jsx)(t.p,{children:"We start by using 00 for XX. 3080 8001 2345 6789 0 121700 modulo 97 = 32. That is to low. 97-32+1= 66. 3080 8001 2345 6789 0 121766 modulo 97 = 1. Now we got it! We move them back to the front (121766 3080 8001 2345 6789 0) and replace 1217 with the country code (CH66 3080 8001 2345 6789 0). This is our QR-IBAN."}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"QR-Rechnung with IBAN and without reference"})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This is your normal IBAN. You can't use a reference! You are only allowed to use 140 symbols of text."}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"QR-Rechnung with IBAN and Creditor Reference"})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Follows the ISO-11649 norm. Works like a QR-Reference but uses ISO-11649 which makes it usable international. Unlike the provious two QR codes, this also works outside of Switzerland. You have to use the normal IBAN, not the QR IBAN."}),"\n",(0,i.jsx)(t.h3,{id:"inserting-the-qr-code-into-your-invoice",children:"Inserting the QR Code into your Invoice"}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Your company country must be set to Switzerland for the QR IBAN and BESR Number fields to become visible on the Company Details page."}),"\n"]})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(76860).A+"",title:"Swiss QR Codes",width:"1600",height:"821"})}),"\n",(0,i.jsx)(t.p,{children:"Codes can be inserted directly into the wysiwyg editor in either the public notes or terms sections."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(84942).A+"",title:"Swiss QR Codes",width:"1342",height:"1295"})}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Due to the width of these containers, the QR Code will appear compressed. If you prefer to have the QR code stretch the width of the PDF, you'll want to create a custom design and insert the QR code into the body of the invoice as shown below."}),"\n"]})}),"\n",(0,i.jsx)(t.p,{children:"In the body tab, at the bottom add"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'<div style="page-break-inside: avoid;" data-state="encoded-html">\n$swiss_qr\n'})}),"\n",(0,i.jsx)(t.p,{children:"or we have also made available a decoded version using the following variable"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"$swiss_qr_raw\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(99777).A+"",title:"Swiss QR Codes",width:"1047",height:"546"})}),"\n",(0,i.jsx)(t.p,{children:"This will then allow the QR code to stretch the width of the PDF and will appear as follows."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(62296).A+"",title:"Swiss QR Codes",width:"799",height:"698"})}),"\n",(0,i.jsx)(t.p,{children:"After you have saved the design, you'll want to make this your new default design."}),"\n",(0,i.jsx)(t.p,{children:"If your QR codes are not appearing then there would be a configuration issue that needs to be addressed. The most common reasons the QR code does not appear on the PDF is due to missing company details. Your full address is required along with the clients full details."}),"\n",(0,i.jsx)(t.h2,{id:"sepa-erc-qr-codes",children:"SEPA ERC QR Codes"}),"\n",(0,i.jsx)(t.p,{children:"To enable SEPA QR codes you'll need to follow a couple of steps to ensure there is the correct data."}),"\n",(0,i.jsx)(t.p,{children:"SEPA QR codes require at the very least a IBAN, for payments outside of EEA you will also need the BIC."}),"\n",(0,i.jsx)(t.p,{children:"You can configure your payment details by enabling E Invoicing and setting the payment method to Credit Transfer (code 30) or SEPA Credit Transfer (code 58)."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(41336).A+"",title:"Enable E Invoicing",width:"1637",height:"597"})}),"\n",(0,i.jsx)(t.p,{children:"Once you enable E Invoicing, the payment means dialog will appear, then set either code 30 or 58, the form will then populate with the correct fields."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(32179).A+"",title:"Set payment method to Credit/Transfer",width:"1217",height:"356"})}),"\n",(0,i.jsx)(t.p,{children:"The variable"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"$sepa_qr_code\n"})}),"\n",(0,i.jsx)(t.p,{children:"Can be placed directly into the Public Notes or Terms sections of your invoice, for automatic generation of the QR code in your invoice."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(76970).A+"",title:"Insert code into invoice",width:"1698",height:"1269"})}),"\n",(0,i.jsx)(t.p,{children:"If you prefer to have control over the location of the QR code you can create a custom design and then use the following options to inject the QR code into your PDF."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'<div data-state="encoded-html">\n$sepa_qr_code\n'})}),"\n",(0,i.jsx)(t.p,{children:"or"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"$sepa_qr_code_raw\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(61637).A+"",title:"Insert code into the custom design",width:"1583",height:"875"})}),"\n",(0,i.jsx)(t.h2,{id:"generic-payment-link-qr-codes",children:"Generic Payment link QR Codes"}),"\n",(0,i.jsx)(t.p,{children:"Generic payment QR codes can easily be applied to your Invoice PDF using the following block in your custom Design"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"<div>\n$payment_qrcode\n"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},76860(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/swiss_qrcode1-705bc27855e865bcd146ca6c39a7f299.png"},84942(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/swiss_qrcode3-76c32bc6556ad5663d72bdd187cfad82.png"},99777(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/swiss_qrcode4-dbc256d34d9f6926163afd74d973c493.png"},62296(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/swiss_qrcode5-f1bc6ac034f45811e5d9d7bbb1743118.png"},41336(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/sepa_qr_code_config_1-ded817e0338ce2e9fb11caafc0b270bb.png"},32179(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/sepa_qr_code_config_2-b380699ae06a4891000e1e926d54166e.png"},76970(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/sepa_qr_code_config_3-f46b86edf3d3ffa4189e65be7a114b86.png"},61637(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/sepa_qr_code_config_4-cc848511f7660563c6e6f245a77e45fd.png"}}]);