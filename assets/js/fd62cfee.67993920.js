"use strict";(globalThis.webpackChunkinvoiceninja_docs=globalThis.webpackChunkinvoiceninja_docs||[]).push([[26528],{63569(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"self-host/env-variables","title":"Env Variables","description":"Your white label license key - required if using e-invoicing where you are proxying your einvoices via Invoice Ninja onto the PEPPOL network.","source":"@site/docs/self-host/env-variables.md","sourceDirName":"self-host","slug":"/self-host/env-variables","permalink":"/docs/self-host/env-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/invoiceninja/invoiceninja.github.io/tree/v5-rework/docs/self-host/env-variables.md","tags":[],"version":"current","lastUpdatedAt":1771738684000,"sidebarPosition":6,"frontMatter":{"title":"Env Variables","sidebar_position":6},"sidebar":"selfHost","previous":{"title":"Self Host Updating","permalink":"/docs/self-host/self-host-updating"},"next":{"title":"Self Host Debug Mode","permalink":"/docs/self-host/self-host-debug-mode"}}');var i=s(74848),r=s(28453);const o={title:"Env Variables",sidebar_position:6},l=void 0,c={},t=[];function d(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'LICENSE_KEY="your_white_label_license"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Your white label license key - required if using e-invoicing where you are proxying your einvoices via Invoice Ninja onto the PEPPOL network."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'APP_NAME="Invoice Ninja"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Your application name - used in client portal title banner"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"APP_ENV=local\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your application environment variable - options include local / development / production"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"APP_KEY=\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your application encryption key - used for encryption / decryption of some datapoints within the application. Backup this key in a secure location. Without it your application could be rendered in an invalid state"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"APP_DEBUG=true\n"})}),"\n",(0,i.jsx)(n.p,{children:"Boolean option which puts the app in debug mode for additional logging. Keep it set to FALSE unless you need to do some debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"APP_URL=http://ninja.test:8000\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your full app URL include HTTP/HTTPS prefix."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DB_HOST=localhost\nDB_DATABASE=db-ninja-01\nDB_USERNAME=ninja\nDB_PASSWORD=ninja\nDB_PORT=3306\n"})}),"\n",(0,i.jsx)(n.p,{children:"Database definitions."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"LOG_CHANNEL=stack\n"})}),"\n",(0,i.jsx)(n.p,{children:"Where we send logs to."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"REQUIRE_HTTPS=false\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you require HTTPS to be forced everywhere in your app, set this to TRUE."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"BROADCAST_DRIVER=pusher\n"})}),"\n",(0,i.jsx)(n.p,{children:"Default laravel env var - not used in Invoice Ninja"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"CACHE_DRIVER=redis\n"})}),"\n",(0,i.jsx)(n.p,{children:"Cache driver, options include file / redis / database"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"QUEUE_CONNECTION=database\n"})}),"\n",(0,i.jsx)(n.p,{children:"Queue Connection - by default set to sync, if you want your app to perform faster you'll want to change this to database or redis. Note, you'll need to configure your queue workers."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"SESSION_DRIVER=redis\n"})}),"\n",(0,i.jsx)(n.p,{children:"Where your session info lives, options include redis / database / file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"REDIS_HOST=127.0.0.1\nREDIS_PASSWORD=null\nREDIS_PORT=6379\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your redis configuration - if you are using Redis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"MAIL_MAILER=smtp\nMAIL_HOST=localhost\nMAIL_PORT=1025\nMAIL_USERNAME=null\nMAIL_PASSWORD=null\nMAIL_ENCRYPTION=null\nMAIL_FROM_ADDRESS='jimmy@gmail.com'\nMAIL_FROM_NAME='David Canary'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your mail configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"POSTMARK_SECRET=\n"})}),"\n",(0,i.jsx)(n.p,{children:"Your postmark API key if you wish to use Postmark"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"API_SECRET=password\n"})}),"\n",(0,i.jsx)(n.p,{children:"As an additional layer of security for self hosters, this prevents randoms from registering / probing your API"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ERROR_EMAIL=error@gmail.com\n"})}),"\n",(0,i.jsx)(n.p,{children:"System error emails are sent to this email address"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"AWS_ACCESS_KEY_ID=s3_compatible_key\nAWS_SECRET_ACCESS_KEY=a_long_and_glorious_key\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=bucket_name\nAWS_URL=https://endpoint.com\nAWS_ENDPOINT=https://endpoint.com/\n"})}),"\n",(0,i.jsx)(n.p,{children:"If using S3 compatible storage, this is where you want to configure it."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"FILESYSTEM_DRIVER=public\n"})}),"\n",(0,i.jsx)(n.p,{children:"Defines where to store your files, options include local / public"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"OPENEXCHANGE_APP_ID=key_r_us\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used to pull in exchange rate data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"EXPANDED_LOGGING=true\n"})}),"\n",(0,i.jsx)(n.p,{children:"Pushes additional logging to storage/logs/invoiceninja.log"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"LOG_PDF_HTML=true\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used when debugging PDF output, this will dump the full HTML of the PDF object being rendered."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"UPDATE_SECRET=secret\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used as pseudo protection of the /update?secret= route to allow only people with this secret to access this url for updating the app"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PHANTOMJS_KEY='a-demo-key-with-low-quota-per-ip-address'\nPHANTOMJS_SECRET=password\n"})}),"\n",(0,i.jsx)(n.p,{children:"Phantom Cloud JS configuration API key and password used to secure the phantom route"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#options - snappdf / phantom / hosted_ninja\nPDF_GENERATOR=snappdf\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configures the PDF engine to be used. SnapPDF is the recommended way to generate PDFs however does require direct access to the server to install some required packages."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PDF_PAGE_NUMBER_X=\nPDF_PAGE_NUMBER_Y=\n"})}),"\n",(0,i.jsx)(n.p,{children:"Override the default x/y coordinates of page numbering on PDFs."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"TRUSTED_PROXIES=*\n"})}),"\n",(0,i.jsx)(n.p,{children:"If your server sit behind a proxy, you may need to enable trusted_proxies else you will get SSL errors"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"IS_DOCKER=FALSE\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you are running a docker setup, you may want to set this to true as there are some docker specific tweaks that are required."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"LOCAL_DOWNLOAD=FALSE\n"})}),"\n",(0,i.jsx)(n.p,{children:"This var circumvents our base64 encoding of the company logo, this may help if the logo is failing to show on the PDF."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NINJA_ENVIRONMENT=selfhost\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is the default environment setting."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"WEBCRON_SECRET=secret\n"})}),"\n",(0,i.jsx)(n.p,{children:"If using the webcron feature, you'll want to set a password here to prevent unauthorized people accessing this URL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ZIP_TAX_KEY=\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The API key from ",(0,i.jsx)(n.a,{href:"https://zip-tax.com",children:"Zip-Tax"})," required to support address based tax rates in the US"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NORDIGEN_SECRET_ID=\nNORDIGEN_SECRET_KEY=\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The API id and key from ",(0,i.jsx)(n.a,{href:"https://bankaccountdata.gocardless.com/user-secrets/",children:"GoCardless/Nordigen"})," required for bank transaction imports"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DELETE_BACKUP_DAYS\n"})}),"\n",(0,i.jsx)(n.p,{children:"The number of days that backups are stored. Any backups created after this will be purged when system maintenance runs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ADDITIONAL_UPLOAD_EXTENSIONS\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Additional upload extensions that are to be allowed, this should be a comma separated string ie ",(0,i.jsx)(n.code,{children:"ADDITIONAL_UPLOAD_EXTENSIONS='mp3,mp4,mkv'"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PDF_PAGE_NUMBER_X=0\nPDF_PAGE_NUMBER_Y=-6\n"})}),"\n",(0,i.jsx)(n.p,{children:"Controls the x/y coordinates of the PDF page numbering (if enabled)"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);