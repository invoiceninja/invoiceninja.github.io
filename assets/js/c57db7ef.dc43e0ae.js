"use strict";(globalThis.webpackChunkinvoiceninja_docs=globalThis.webpackChunkinvoiceninja_docs||[]).push([[18874],{56020(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developer-guide/api/invoices","title":"Invoices","description":"Endpoints","source":"@site/docs/developer-guide/api/invoices.md","sourceDirName":"developer-guide/api","slug":"/developer-guide/api/invoices","permalink":"/docs/developer-guide/api/invoices","draft":false,"unlisted":false,"editUrl":"https://github.com/invoiceninja/invoiceninja.github.io/tree/v5-rework/docs/developer-guide/api/invoices.md","tags":[],"version":"current","lastUpdatedAt":1771640441000,"sidebarPosition":3,"frontMatter":{"title":"Invoices","sidebar_position":3},"sidebar":"developerGuide","previous":{"title":"Clients","permalink":"/docs/developer-guide/api/clients"},"next":{"title":"Payment Gateways","permalink":"/docs/developer-guide/payment-gateways"}}');var i=t(74848),r=t(28453);const o={title:"Invoices",sidebar_position:3},a=void 0,l={},c=[{value:"Endpoints",id:"endpoints",level:3},{value:"Get Invoices",id:"get-invoices",level:3},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Response",id:"response",level:4},{value:"Create Invoice",id:"create-invoice",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Response",id:"response-1",level:4},{value:"Update Invoice",id:"update-invoice",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Response",id:"response-2",level:4}];function d(e){const n={br:"br",code:"code",em:"em",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.p,{children:"The invoices endpoint allows you to interact with invoices."}),"\n",(0,i.jsx)(n.p,{children:"Endpoints"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v1/invoices\nPOST /api/v1/invoices\nPUT /api/v1/invoices/{invoice}\nPUT /api/v1/invoices/{invoice}/upload\nDELETE /api/v1/invoices/{invoice}\nPOST /api/v1/invoices/bulk\nGET /api/v1/invoices/{invoice}/delivery_note\nGET /api/v1/invoice/{invitation_key}/download\nPOST /api/v1/invoices/update_reminders\n"})}),"\n",(0,i.jsx)(n.h3,{id:"get-invoices",children:"Get Invoices"}),"\n",(0,i.jsx)(n.p,{children:"The GET route returns a list of invoices."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET \'http://ninja.test:8000/api/v1/invoices\' \\\n-H "X-API-TOKEN:company-token-test" \\\n-H "X-Requested-With: XMLHttpRequest";\n'})}),"\n",(0,i.jsx)(n.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"Query parameters can be chained together to form complex queries. The current supported values are:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"client_status"}),": Filters invoice by their status values:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"1"})," DRAFT"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"2"})," SENT"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3"})," PARTIALLY PAID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"4"})," PAID"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"It is possible to chain together multiple statuses using a comma separated list for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/api/v1/invoices?client_status=1,2,3\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"filter"}),": Search across multiple columns (number, po_number, date, amount, balance, custom_value1, custom_value2, custom_value3, custom_value4)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/api/v1/invoices?filter=2022-01-05\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"number"}),": Search by invoice number",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"without_deleted_clients"}),": Filters the returning invoices and excludes invoices for deleted clients.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"with_trashed"}),": Returning invoices that have been archived.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"upcoming"}),": Returns invoices which have NO due date or the due date is in the future.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"overdue"}),": Returns invoices which have a due_date OR partial_due_date in the past.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"payable"}),": Returns invoices which have a pending balance remaining.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"sort"}),": Sort the returning dataset, format is column|ASC ie ?sort=name|DESC",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"private_notes"}),": Searches invoice on the private_notes column",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"created_at"}),": Filters invoices greater than or equal to the created_at timestamp (Unix Timestamp)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"updated_at"}),": Filters invoices greater than or equal to the updated_at timestamp (Unix Timestamp)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"is_deleted"}),": Search using is_deleted boolean flag",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"include"}),": A comma separated list of relationships to be returned back in the dataset options include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"client - The associated client"}),"\n",(0,i.jsx)(n.li,{children:"payments - The associated payments for this invoice"}),"\n",(0,i.jsxs)(n.li,{children:["activities - The activity records for this invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"per_page"}),": The number of invoices per page you want returned",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"page"}),": The page number"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'{\n"data": [\n{\n    "id": "xYRdG7dDzO",\n    "user_id": "VolejRejNm",\n    "project_id": "",\n    "assigned_user_id": "",\n    "amount": 4513.61,\n    "balance": 4513.61,\n    "client_id": "Wpmbk5ezJn",\n    "vendor_id": "",\n    "status_id": "2",\n    "design_id": "",\n    "recurring_id": "",\n    "created_at": 1675982786,\n    "updated_at": 1675982786,\n    "archived_at": 0,\n    "is_deleted": false,\n    "number": "0019",\n    "discount": 0,\n    "po_number": "",\n    "date": "2022-12-20",\n    "last_sent_date": "",\n    "next_send_date": "",\n    "due_date": "",\n    "terms": "",\n    "public_notes": "",\n    "private_notes": "",\n    "uses_inclusive_taxes": false,\n    "tax_name1": "",\n    "tax_rate1": 0,\n    "tax_name2": "",\n    "tax_rate2": 0,\n    "tax_name3": "CA Sales Tax",\n    "tax_rate3": 5,\n    "total_taxes": 483.61,\n    "is_amount_discount": true,\n    "footer": "",\n    "partial": 0,\n    "partial_due_date": "",\n    "custom_value1": "1972-12-12",\n    "custom_value2": "no",\n    "custom_value3": "",\n    "custom_value4": "",\n    "has_tasks": false,\n    "has_expenses": false,\n    "custom_surcharge1": 0,\n    "custom_surcharge2": 0,\n    "custom_surcharge3": 0,\n    "custom_surcharge4": 0,\n    "exchange_rate": 1,\n    "custom_surcharge_tax1": false,\n    "custom_surcharge_tax2": false,\n    "custom_surcharge_tax3": false,\n    "custom_surcharge_tax4": false,\n    "line_items": [\n        {\n            "quantity": 1,\n            "cost": 403,\n            "product_key": "Id sit.",\n            "notes": "Excepturi vel.",\n            "discount": 0,\n            "is_amount_discount": true,\n            "tax_name1": "Sales Tax",\n            "tax_rate1": 5,\n            "tax_name2": "",\n            "tax_rate2": 0,\n            "tax_name3": "",\n            "tax_rate3": 0,\n            "sort_id": 0,\n            "line_total": 403,\n            "gross_line_total": 423.15,\n            "custom_value1": "https:\\/\\/picsum.photos\\/200",\n            "custom_value2": "47",\n            "custom_value3": "Sed placeat et.",\n            "custom_value4": "Eos et iusto velit.",\n            "type_id": "1",\n            "product_cost": 0,\n            "tax_amount": 20.15,\n            "date": ""\n        }\n    ],\n    "entity_type": "invoice",\n    "reminder1_sent": "",\n    "reminder2_sent": "",\n    "reminder3_sent": "",\n    "reminder_last_sent": "",\n    "paid_to_date": 0,\n    "subscription_id": "",\n    "auto_bill_enabled": false,\n    "invitations": [\n        {\n            "id": "W4QbYKezqM",\n            "client_contact_id": "Wpmbk5ezJn",\n            "key": "3TlMBVTIGgPQNMHzRhoHAo0mayy5O3rv",\n            "link": "http:\\/\\/ninja.test:8000\\/client\\/invoice\\/3TlMBVTIGgPQNMHzRhoHAo0mayy5O3rv",\n            "sent_date": "2023-02-09 22:46:26",\n            "viewed_date": "",\n            "opened_date": "",\n            "updated_at": 1675982786,\n            "archived_at": 0,\n            "created_at": 1675982786,\n            "email_status": "",\n            "email_error": ""\n        },\n    ],\n    "documents": []\n},\n}\u23ce           \n'})}),"\n",(0,i.jsx)(n.h3,{id:"create-invoice",children:"Create Invoice"}),"\n",(0,i.jsx)(n.p,{children:"The POST route is used to create a invoice."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST \'http://ninja.test:8000/api/v1/invoices\' \\\n-H "Content-Type:application/json" \\\n-d \'{"terms":"Something","line_items":[{"quantity":1,"cost":10,"product_key":"example product","notes":"Product Description"}]}\' \\\n-H "X-API-TOKEN:company-token-test" \\\n-H "X-Requested-With: XMLHttpRequest";\n'})}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"client_id"}),": ",(0,i.jsx)(n.strong,{children:"REQUIRED string"})," - The client id",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"project_id"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The associated project id",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"vendor_id"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The associated vendor id",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"subscription_id"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The associated subscription id",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"number"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The invoice number",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"discount"}),": ",(0,i.jsx)(n.strong,{children:"optional float"})," - Discount amount or percentage",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"po_number"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - Purchase order number\n",(0,i.jsx)(n.strong,{children:"date"}),": ",(0,i.jsx)(n.strong,{children:"optional date Y-m-d"})," - Invoice date",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"due_date"}),": ",(0,i.jsx)(n.strong,{children:"optional date Y-m-d"})," - Invoice due date\n",(0,i.jsx)(n.strong,{children:"public_notes"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - Public notes of the invoice, theses are client visible",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"private_notes"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - Private notes which are ",(0,i.jsx)(n.em,{children:"not"})," visible to the client\n",(0,i.jsx)(n.strong,{children:"terms"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - Invoice terms",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"footer"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - Invoice footer",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"design_id"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The design ID to be used for this invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"uses_inclusive_taxes"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Determine the tax method to apply to the invoice exclusive or inclusive taxes",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_name1"}),": ",(0,i.jsx)(n.strong,{children:"optional string ie GST"})," - The name of the first tax rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_rate1"}),": ",(0,i.jsx)(n.strong,{children:"optiona float ie 10"})," - The rate of the first tax rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_name2"}),": ",(0,i.jsx)(n.strong,{children:"optional string ie VAT"})," - The name of the first second rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_rate2"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie 17.5"}),"  - The rate of the first second rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_name3"}),": ",(0,i.jsx)(n.strong,{children:"optional string ie VAT"})," - The name of the first third rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"tax_rate3"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie 17.5"}),"  - The rate of the first third rate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"is_amount_discount"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Boolean flag defining if the discount is an amount (true) or percentage (false)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"partial"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie 10.50"})," - Partial / Deposit amount - if required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"partial_due_date"}),": ",(0,i.jsx)(n.strong,{children:"optional date Y-m-d"})," - The due date of the partial amount",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_value1"}),": ",(0,i.jsx)(n.strong,{children:"optional string free form text"})," - Custom values for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_value2"}),": ",(0,i.jsx)(n.strong,{children:"optional string free form text"})," - Custom values for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_value3"}),": ",(0,i.jsx)(n.strong,{children:"optional string free form text"})," - Custom values for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_value4"}),": ",(0,i.jsx)(n.strong,{children:"optional string free form text"})," - Custom values for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge1"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie. 1.20"})," - Custom surcharge amounts for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge2"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie. 1.20"})," - Custom surcharge amounts for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge3"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie. 1.20"})," - Custom surcharge amounts for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge4"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie. 1.20"})," - Custom surcharge amounts for the invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge_tax1"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Flag determining if taxes should apply to the surcharge amounts",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge_tax2"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Flag determining if taxes should apply to the surcharge amounts",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge_tax3"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Flag determining if taxes should apply to the surcharge amounts",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"custom_surcharge_tax4"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Flag determining if taxes should apply to the surcharge amounts",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"exchange_rate"}),": ",(0,i.jsx)(n.strong,{children:"optional float ie 1.5"})," - The currency exchange rate for this invoice",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"auto_bill_enabled"}),": ",(0,i.jsx)(n.strong,{children:"optional bool true|false"})," - Boolean flag determining if the invoice should be auto billed",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"idempotency_key"}),": ",(0,i.jsx)(n.strong,{children:"optional string ie YgXPe3gISCdpcilDcQKaef06wgh1hE4p"})," - Idempotency key, used to mitigate double requests\n",(0,i.jsx)(n.strong,{children:"assigned_user_id"}),": ",(0,i.jsx)(n.strong,{children:"optional string"})," - The id of the assigned user for this invoice"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'  "line_items": [\n    {\n      "product_key": "Id sit.",\n      "notes": "Excepturi vel.",\n      "cost": 403,\n      "product_cost": 0,\n      "quantity": 1,\n      "tax_name1": "GST",\n      "tax_rate1": 10,\n      "tax_name2": "",\n      "tax_rate2": 0,\n      "tax_name3": "",\n      "tax_rate3": 0,\n      "custom_value1": "https://picsum.photos/200",\n      "custom_value2": "47",\n      "custom_value3": "Sed placeat et.",\n      "custom_value4": "Eos et iusto velit.",\n      "discount": 0,\n      "type_id": "1"\n    }\n  ],\n'})}),"\n",(0,i.jsx)(n.h4,{id:"response-1",children:"Response"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"update-invoice",children:"Update Invoice"}),"\n",(0,i.jsx)(n.p,{children:"The PUT route is used to create a invoice."}),"\n",(0,i.jsxs)(n.p,{children:["It is important to note that the primary key representation of the invoice is not an integer, but a hashed id, ie. ",(0,i.jsx)(n.code,{children:"wMvbmEAbYA"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X PUT \'http://ninja.test:8000/api/v1/invoices/wMvbmEAbYA\' \\\n-H "Content-Type:application/json" \\\n-d \'{"name":"Invoice Name","contacts":[{"first_name":"helly","email":"email@example.com"}]}\' \\\n-H "X-API-TOKEN:company-token-test" \\\n-H "X-Requested-With: XMLHttpRequest";\n'})}),"\n",(0,i.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"response-2",children:"Response"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);