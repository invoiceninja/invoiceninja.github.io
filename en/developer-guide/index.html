<!DOCTYPE html>
<html lang="en">

<head>
    <title>Free Source Available Invoicing, Expenses &amp; Time-Tracking | Invoice Ninja</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="referrer" content="always">
    <link rel="canonical" href="https://invoiceninja.github.io/en/developer-guide">
    <meta name="description" content="The leading free source available online invoicing app for freelancers &amp; businesses. Invoice, accept payments, track expenses, &amp; time-tasks">
    <meta name="docsearch:language" content="en" />
    <meta name="docsearch:version" content="v1.0.1" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" href="/assets/build/css/main.css?id=2efe3772345fcb6092f53238a2931c53">
    <link rel="stylesheet" href="/assets/build/css/docsearch.min.css?id=7cb95be37902ccc193627d8e95120feb" />
    <link rel="stylesheet" href="/assets/build/css/video-js.css?id=725ac2206fba737ebf9405ec02f91c81" />
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">

    <script src="/assets/build/js/lunr.min.js?id=4b684389f3179bfb6f7048d14e2da4e9"></script>
    <script src="/assets/build/js/video.min.js?id=f7f891a09d5fe7da5b498a117486aca9"></script>
    <script src="/assets/build/js/videojs-dash.min.js?id=a5cb38deff90188bdfd2e8cbe7c95128"></script>

        <script type="text/javascript" src="/en_index.js"></script>
    <script type="text/javascript" src="/en.js"></script>
        <style>
      .search-wrapper {
        /* position: relative; */
        /* display: inline-block; */
        /* max-width: 50%;  */
      }

        .results-list {
        position: absolute;
        background-color: white;
        /* border: 1px solid #ccc; */
        padding: 0;
        margin: 0;
        list-style: none;
        max-height: 400px;
        max-width:800px;
        overflow-y: scroll;
        width: calc(100% - 2px);
        z-index: 10000;
        top: 100%; /* This will pin the dropdown to the bottom of the search input */
        left: auto;
        right: auto;
        border-top-left-radius: 0; 
        border-top-right-radius: 0;
        border-bottom-left-radius: 0.25rem;
        /* /* border-bottom-right-radius: 0.25rem; */
        }

        .results-list li {
        padding: 8px;
        cursor: pointer;
        }

        .results-list li:hover {
        background-color: #eee;
        }
        .result-item {
          padding: 16px;
          cursor: pointer;
          border-bottom: 1px solid #f0f0f0;
        }

        .result-item:last-child {
          border-bottom: none;
        }

        .result-item:hover {
          background-color: #f9f9f9;
        }

        .result-title {
          font-size: 16px;
          font-weight: bold;
          margin-bottom: 4px;
        }

        .result-description {
          font-size: 14px;
          color: #777;
        }

    </style>
 
   <script>

      document.addEventListener('DOMContentLoaded', function () {

      let idx = lunr.Index.load(data);

      const input = document.getElementById('search-input');
      const resultsList = document.getElementById('results-list');

      input.addEventListener('input', function () {
        const query = input.value.toLowerCase().trim();

        const results = idx.search(query);

        // Clear previous results
        resultsList.innerHTML = '';

        if (query === '') {
          resultsList.style.display = 'none';
          return;
        }
        // Populate the dropdown results list
        results.forEach(result => {
        
          const matchedDoc = documents.find(doc => doc.id == result.ref);
        
          const li = document.createElement('li');
          li.className = 'result-item';

          const a = document.createElement('a');
          a.href = matchedDoc.uri;
          a.style.textDecoration = 'none'; // Remove the default underline from the link

          const div = document.createElement('div');
          div.className = 'result-title';
          div.textContent = matchedDoc.title + ' | ' + matchedDoc.sub_title;
          a.appendChild(div);

          const div2 = document.createElement('div');
          div2.className = 'result-description';
          div2.textContent = matchedDoc.body.substring(0, 150) + '...';
          a.appendChild(div2);

          li.appendChild(a);
          resultsList.appendChild(li);

        });

        resultsList.style.display = results.length ? 'block' : 'none';

      });

      // Hide the dropdown results list when clicking outside the search box
      document.addEventListener('click', function (event) {
        if (!event.target.closest('#search-box')) {
          resultsList.style.display = 'none';
        }
      });

      input.addEventListener('keydown', function (e) {
        if (e.key === 'ArrowUp') {
          e.preventDefault(); // Prevent scrolling the page
          selectResult(selectedIndex - 1);
        } else if (e.key === 'ArrowDown') {
          e.preventDefault(); // Prevent scrolling the page
          selectResult(selectedIndex + 1);
        } else if (e.key === 'Enter' && selectedIndex >= 0 && selectedIndex < resultsList.children.length) {
          
          window.location.href = resultsList.children[selectedIndex].children[0].href;
        }
      });

      let selectedIndex = -1;

      function selectResult(index) {
        // Deselect the previously selected item
        if (selectedIndex >= 0 && selectedIndex < resultsList.children.length) {
          resultsList.children[selectedIndex].classList.remove('bg-gray-200');
        }

        selectedIndex = index;

        // Select the new item
        if (selectedIndex >= 0 && selectedIndex < resultsList.children.length) {
          resultsList.children[selectedIndex].classList.add('bg-gray-200');

          // Smoothly scroll to the selected item
          resultsList.children[selectedIndex].scrollIntoView({
            block: 'nearest',
            behavior: 'smooth'
          });
        }
      }


      document.addEventListener('keydown', (e) => {

        if (e.key.toLowerCase() == 'k' && e.ctrlKey) {
              // Add your code here
              
            e.preventDefault(); // Prevent scrolling the page

            console.log("yoyo");

              input.focus();
          }
      });


    });



  </script>

    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/agate.min.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>

    <script>hljs.highlightAll();</script>
</head>

<meta name="locale" content="en">

<nav class="py-4 sticky top-0 z-40 lg:z-50 w-full bg-white border-b">
    <div id="navigation-content" class="grid grid-cols-12">
        <div class="float-left pl-4 col-span-2">
            <a href="/en" id=""><img class="object-contain h-10 mt-2	" src="/assets/images/logo-rounded.png" alt="Invoice Ninja logo" />
            </a>
        </div>
                    <div class="search-wrapper w-full col-span-5 flex justify-center" id="search-box">
                <input type="text" id="search-input" placeholder="Search Invoice Ninja... (Ctrl K)" class="h-14 text-lg focus:outline-none rounded-mdsm:max-w-xs">
                <ul id="results-list" class="results-list"></ul>
            </div>
            <!-- <input type="text" placeholder="Quick search ..." id="topSearchBox" data-lpignore="true"
                class="pb-1 border-b hover:border-ninja-blue focus:border-ninja-blue focus:outline-none"> -->
                <div id="right-side-items" class="text-sm w-full col-span-5 flex flex-grow justify-end pr-5">
            <div class="hidden md:hidden lg:block md:space-x-2">
                <span>
                    <a href="/en/user-guide" class="py-2 border-b border-transparent hover:border-ninja-blue">User Guide</a>
                </span>
                <span>
                    <a href="/en/self-host-installation" class="py-2 border-b border-transparent hover:border-ninja-blue">Self Host</a>
                </span>
                <span>
                    <a href="https://api-docs.invoicing.co/" target="_blank" class="py-2 border-b border-transparent hover:border-ninja-blue">API Docs</a>
                </span>
                <span>
                    <a target="_blank" href="https://app.invoicing.co" class="px-5 py-2 border rounded-full hover:border-ninja-blue">‚èª Open App</a>
                </span>
                <span>
                    <select id="locale" onchange="this.options[this.selectedIndex].value && (window.location = '/' + this.options[this.selectedIndex].value);" class="mt-2 rounded-md border-0 py-1.5 pl-1 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6">
                        <option value="en">EN</option>
                        <option value="fr_CA">Fr (CA)</option>
                    </select>
                </span>
            </div>
            <div class="flex flex-col lg:hidden">
                <button id="mobile-menu-toggle" class="focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>

        </div>
    </div>
    <div id="mobile-menu" class="hidden px-4 pt-4 flex flex-col">
        <a href="/en/getting-started" class="py-2 border-b border-transparent hover:border-ninja-blue"> User Guide </a>
        <a href="/en/self-host-installation" class="py-2 border-b border-transparent hover:border-ninja-blue">Self Host</a>
        <a href="https://api-docs.invoicing.co/" target="_blank" class="py-2 border-b border-transparent hover:border-ninja-blue"> API Docs </a>
        <a href="https://app.invoicing.co" target="_blank" class="py-2 border-b border-transparent hover:border-ninja-blue"> ‚èª Open App</a>
        <select id="locale_mobile" onchange="this.options[this.selectedIndex].value && (window.location = '/' + this.options[this.selectedIndex].value);" class="mt-2 rounded-md border-0 py-1.5 pl-3 pr-5 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6">
            <option value="en">EN</option>
            <option value="fr_CA">Fr (CA)</option>
        </select>
    </div>
</nav>

<script>
    let element = document.getElementById('locale_mobile');
    element.value = document.querySelector('meta[name="locale"]').content;

    let element2 = document.getElementById('locale');
    element2.value = document.querySelector('meta[name="locale"]').content;
</script>

<body class="font-sans antialiased text-gray-900 bg-white ">
        <div class="hidden top-0 absolute z-40 bg-white w-full h-screen" id="mobile-menu-overlay">
       <div class="p-6 flex items-top justify-between">
           <div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/en/developer-guide"></a>

                       <div class="mt-2">
                                                          <a class="block hover:text-ninjaDeveloper Guide-blue py-1 "
                                  href="/en/developer-guide">Getting Started</a>
                                                          <a class="block hover:text-ninjaDeveloper Guide-blue py-1 "
                                  href="/en/payment-gateways">Payment Gateways</a>
                                                          <a class="block hover:text-ninjaDeveloper Guide-blue py-1 "
                                  href="/en/statics">Static Variables</a>
                                                          <a class="block hover:text-ninjaDeveloper Guide-blue py-1 "
                                  href="https://api-docs.invoicing.co/">API Docs</a>
                                                  </div>
                   </div>
                          </div>
           <div>
                <button onclick="document.getElementById('mobile-menu-overlay').classList.add('hidden');">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
           </div>
       </div>
    </div>

    <div class="max-w-12xl grid grid-cols-12 py-2 px-2 lg:mx-auto">
        <div class="hidden space-y-6 md:block lg:col-span-2">
            <div class="hidden lg:block fixed mt-2 h-full overflow-y-auto pb-32 pr-16 pl-4">
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/en/developer-guide">Developer Guide</a>


                        <div class="mt-2">
                                                            <a class="block hover:text-ninja-blue py-1 "
                                  href="/en/developer-guide">Getting Started</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                  href="/en/payment-gateways">Payment Gateways</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                  href="/en/statics">Static Variables</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                  href="https://api-docs.invoicing.co/">API Docs</a>
                                                    </div>
                    </div>
                            </div>
        </div> <!-- End of sidebar -->

        <div class="col-span-12 md:col-span-8 prose mx-auto max-w-max" id="page-content">
            <div class="block lg:hidden flex flex-col mb-4 lg:mb-0">
                <button onclick="document.getElementById('mobile-menu-overlay').classList.remove('hidden');">&#8592; Documentation</button>
            </div>

            <h1>Developer guide</h1>

<h2>Getting Started.</h2>

<p>The Invoice Ninja API is built on top of the <a href="https://laravel.com">Laravel Framework</a>, this is a hugely popular PHP framework with extensive high quality documentation and tutorials all over the web. To get started customizing and/or extending Invoice Ninja you will need to be acquainted with the latest version of Laravel and all of its features. The URL namespace for the api is <strong>/api/v1</strong> The Client Portal is a traditional web application also built with Laravel along with Livewire and Tailwind components. The URL namespace for client facing URLs is <strong>/client/</strong></p>

<p>If you are planning to build new functionality in Invoice Ninja, for example a Inventory Module, rather than integrate this directly into the codebase, we highly recommend using the <a href="https://github.com/nwidart/laravel-modules">Laravel Modules</a> library. This library is already part of the Invoice Ninja core, so you can dive straight in and start building.</p>

<p>If you plan to contribute your code back to the official Invoice Ninja repository, please ensure you have test coverage for your functionality. We use <a href="https://phpunit.de/">Phpunit</a> for our API testing, and <a href="https://www.cypress.io/">Cypress</a> for our UI testing of the client portal.</p>

<h2>Architecture</h2>

<p>The app is divided into three main parts: the backend/API and the two admin portals.</p>

<h3>Backend - API</h3>

<h4>Lead developer: <a href="https://twitter.com/deadbeefx0">David Bomba</a></h4>

<ul>
<li>Framework: <a href="https://laravel.com">Laravel</a></li>
<li>Code: <a href="https://github.com/invoiceninja/invoiceninja/tree/v5-stable">GitHub</a></li>
<li>API: <a href="https://api-docs.invoicing.co/">Docs</a></li>
</ul>

<h3>Admin Portal - Desktop &amp; Mobile</h3>

<h4>Lead developer: <a href="https://twitter.com/hillelcoren">Hillel Coren</a></h4>

<ul>
<li>Framework: <a href="https://flutter.dev">Flutter</a></li>
<li>Code: <a href="https://github.com/invoiceninja/admin-portal">GitHub</a></li>
<li>Demo: <a href="https://demo.invoiceninja.com">demo.invoiceninja.com</a></li>
</ul>

<h3>Admin Portal - Web</h3>

<h4>Lead developer: <a href="https://twitter.com/beganovichhh">Benjamin Beganoviƒá</a></h4>

<ul>
<li>Framework: <a href="https://reactjs.org">React</a></li>
<li>Code: <a href="https://github.com/invoiceninja/ui">GitHub</a></li>
<li>Demo: <a href="https://react.invoicing.co/demo">react.invoicing.co/demo</a></li>
</ul>

<h2>API Definition</h2>

<p>Our full API definition can be found <a href="https://api-docs.invoicing.co/">here</a></p>

<h3>Base URL for v5</h3>

<p>The base url for v5 is:</p>

<pre><code>https://invoicing.co
</code></pre>

<h3>Migrating from v4</h3>

<p>Invoice Ninja v4 was initially built as a web application with an API added on later to support common uses cases and the limited functionality of the v4 mobile app. With v5 we‚Äôve instead built an API first application, all features in the web/mobile/desktop apps are powered by the API.</p>

<p>For example v4 <a href="https://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Transformers/ClientTransformer.php#L51">client includes</a> are limited to contacts, invoices, credits and activities, whereas in v5 <a href="https://github.com/invoiceninja/invoiceninja/blob/v5-develop/app/Transformers/ClientTransformer.php#L32">all options</a> are available. This includes: contacts, documents, gateway_tokens, documents, gateway_tokens, activities, ledger and system_logs.</p>

<p>Another major shortcoming of the v4 API is the docs, even though the functionality is limited, what is available isn‚Äôt necessarily documented. In v5 we‚Äôve made sure to document every aspect of the API.</p>

<p>The v4 and v5 APIs are mostly the same but there are some key changes which are important to be aware of.</p>

<p><div class="p-5 bg-gray-200 border-l-4 border-red-500">
    <span>The header name for the API token has changed from X-Ninja-Token in v4 to X-API-Token in v5.</span>
</div></p>

<p>The data type of the id fields has changes from integer to string to support the new id format.</p>

<p>The route for uploading documents has changed, here's a v5 cURL example:</p>

<pre><code>curl -X POST https://invoicing.co/api/v1/invoices/&lt;invoice_id&gt;/upload \
  -H 'Content-Type: multipart/form-data' \
  -H 'X-API-TOKEN: TOKEN' \
  -H 'X-Requested-With: XMLHttpRequest' \
  -F _method=PUT \
  -F 'documents[]=@filename.png'
</code></pre>

<h3>API Headers</h3>

<h4>X-API-SECRET</h4>

<p><div class="grid grid-cols-12 gap-4">
    <div class="grid-cols-12 lg:col-span-6">
    The X-API-SECRET can be used as another layer of protection for your API.</p>

<p>The X-API-SECRET requires you to configure a .env variable <code>API_SECRET=</code></p>

<p>This is an optional header, and is only assessed on the /api/v1/login route.
</div>
<div class="grid-cols-12 lg:col-span-6">
    </p>

<pre><code>X-API-SECRET: value
</code></pre>

<p>
</div>
</div>
</p>

<h4>X-API-TOKEN</h4>

<p><div class="grid grid-cols-12 gap-4">
    <div class="grid-cols-12 lg:col-span-6">
    The X-API-TOKEN is the authentication token and is required for all API requests</p>

<p>This is a required header.
</div>
<div class="grid-cols-12 lg:col-span-6">
    </p>

<pre><code>X-API-TOKEN: value
</code></pre>

<p>
</div>
</div>
</p>

<h4>X-Requested-With;</h4>

<p><div class="grid grid-cols-12 gap-4">
    <div class="grid-cols-12 lg:col-span-6">
    The X-Requested-With header is a security minded header, there is only one value accepted.</p>

<p>This is a required header.
</div>
<div class="grid-cols-12 lg:col-span-6">
    </p>

<pre><code>X-Requested-With: XMLHttpRequest
</code></pre>

<p>
</div>
</div>
</p>

<h4>Content-Type:application/json</h4>

<p><div class="grid grid-cols-12 gap-4">
    <div class="grid-cols-12 lg:col-span-6">
    When submitting data to the API you must declare the content type</p>

<p>This is a required header when using POST/PUT methods.
</div>
<div class="grid-cols-12 lg:col-span-6">
    </p>

<pre><code>Content-Type: application/json
Content-Type: multipart/form-data
</code></pre>

<p>
</div>
</div>
</p>

<h3>Primary Keys</h3>

<p>In version 5 of Invoice Ninja we move away from integer based primary keys and moved to hashed_id's, these are obfuscated string representations of the primary key for the all entity records.</p>

            <a href="https://github.com/invoiceninja/invoiceninja.github.io/blob/v5-rework/source/en/developer-guide.md"
               class="pt-4 border-t inline-flex items-center w-full block">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-github">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                </svg>
                <span class="ml-2">Want to contribute? Edit this page on GitHub!</span>
            </a>
        </div> <!-- End of main content -->

        <div class="hidden md:block col-span-2 p-4">
            <div class="fixed overflow-y-auto pr-4 h-full pl-4 pb-32 text-sm" id="toc-container">
                <!-- Placeholder for table of contents -->
                <span class="text-sm uppercase block mb-3 text-ninja-blue">On this page</span>
            </div>
        </div>
    </div>
        <script src="/assets/build/js/main.js?id=5d8f1025c2be8c2903a2ea7ba7775489"></script>

    <script>
        document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
            let mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenu.classList.contains('hidden')) {
                return mobileMenu.classList.remove('hidden');
            }

            return mobileMenu.classList.add('hidden');
        });
    </script>

    <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
        docsearch({
            apiKey: '4816218e8381d5a17beacd84823e9ea3',
            indexName: 'invoiceninja',
            inputSelector: '#topSearchBox',
            debug: false,
            searchParameters: {
                facetFilters: ['language:en'],
            },
        });
    </script>
        <script type="text/javascript">
        docsearch({
            apiKey: '4816218e8381d5a17beacd84823e9ea3',
            indexName: 'invoiceninja',
            inputSelector: '#indexSearchBox',
            debug: false,
            searchParameters: {
                facetFilters: ['language:en'],
            },
        });
    </script> -->

<style>
.video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.video_container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%;
}

</style>
</body>

</html>
